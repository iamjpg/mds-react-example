"use strict";(self.webpackChunkmds_react_test=self.webpackChunkmds_react_test||[]).push([[86],{86:function(t,e,n){n.r(e),n.d(e,{mx_confirm_input:function(){return r}});var i=n(4165),s=n(5861),a=n(5671),o=n(3144),u=n(5953),r=function(){function t(e){(0,a.Z)(this,t),(0,u.r)(this,e),this.isEmittingEventAfterConfirm=!1,this.type="text",this.dense=!1,this.disabled=!1,this.readonly=!1,this.outerContainerClass="",this.labelClass="",this.error=!1,this.floatLabel=!1,this.textarea=!1,this.textareaHeight="250px",this.hideCharacterCount=!1,this.isFocused=!1,this.isHovered=!1}return(0,o.Z)(t,[{key:"onValueChange",value:function(){this.previousValue=this.value,this.mxInput.value=this.value}},{key:"connectedCallback",value:function(){this.previousValue=this.value}},{key:"rightIcons",get:function(){if(this.isFocused)return[{icon:"mds-x",ariaLabel:"Cancel",onClick:this.onCancel.bind(this)},{icon:"mds-check",ariaLabel:"Okay",onClick:this.onConfirm.bind(this)}];var t=null!=this.value&&""!==this.value&&!this.readonly&&!this.disabled,e=window.matchMedia("(hover: hover)");return!this.isHovered&&e.matches||!t?void 0:"mds-edit"}},{key:"onCancel",value:function(t){t&&t.stopPropagation(),this.mxInput&&(this.mxInput.value=this.previousValue,document.activeElement&&this.mxInput.contains(document.activeElement)&&document.activeElement.blur())}},{key:"onConfirm",value:function(t){if(t&&t.stopPropagation(),this.value=this.mxInput.value,this.mxInput){var e=this.mxInput.querySelector("input");this.isEmittingEventAfterConfirm=!0,e&&e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}document.activeElement&&document.activeElement.blur()}},{key:"onFocusin",value:function(){this.isFocused=!0}},{key:"onFocusout",value:function(){var t=(0,s.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(requestAnimationFrame);case 2:if(!document.activeElement||!this.mxInput.contains(document.activeElement)){t.next=4;break}return t.abrupt("return");case 4:this.isFocused=!1,this.onCancel();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onMouseEnter",value:function(){this.isHovered=!0}},{key:"onMouseLeave",value:function(){this.isHovered=!1}},{key:"onInput",value:function(t){this.isEmittingEventAfterConfirm?this.isEmittingEventAfterConfirm=!1:t.stopPropagation()}},{key:"onKeyDown",value:function(t){"Escape"===t.key&&this.onCancel(),t.target.closest("button")||"Enter"===t.key&&this.onConfirm()}},{key:"render",value:function(){var t=this;return(0,u.h)(u.H,{class:"mx-confirm-input block"+(null!=this.value&&""!==this.value?" has-value":"")},(0,u.h)("mx-input",{ref:function(e){return t.mxInput=e},name:this.name,inputId:this.inputId,label:this.label,placeholder:this.placeholder,value:this.value,type:this.type,dense:this.dense,disabled:this.disabled,readonly:this.readonly,maxlength:this.maxlength,leftIcon:this.leftIcon,suffix:this.suffix,outerContainerClass:this.outerContainerClass,labelClass:this.labelClass,error:this.error,assistiveText:this.assistiveText,floatLabel:this.floatLabel,rightIcon:this.rightIcons,elAriaLabel:this.elAriaLabel,hideCharacterCount:this.hideCharacterCount,onFocusin:this.onFocusin.bind(this),onFocusout:this.onFocusout.bind(this),onInput:this.onInput.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this)}))}}],[{key:"watchers",get:function(){return{value:["onValueChange"]}}}]),t}()}}]);
//# sourceMappingURL=86.f7b0676b.chunk.js.map